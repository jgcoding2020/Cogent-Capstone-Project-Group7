<nav>
    <strong>DoConnect</strong>
    <button class="create-question-button" (click)="goCreateQuestion()">Create Question</button>
    <button class="search-question-button" (click)="goSearchQuestion()">Search Question</button>
    <button class="chat-button" (click)="goChat()">Chat with Us!</button>
    <button class="sign-out-button" (click)="goSignOut()">Sign Out</button>
    <div class="username-div">
        {{username}}
    </div>
</nav>
<h2>Search Question</h2>
<div class="div-question-search">
    <form #searchQuestionForm="ngForm" (ngSubmit)="onSubmitSearch(searchQuestionForm)">
        <label for="topic"><strong>Search the question: </strong></label>
        <select name="topic" [(ngModel)]="selectedTopic" required>
            <option value="">--select an option--</option>
            <option *ngFor="let topic of topics" [value]="topic">{{topic}}</option>
        </select>
        <input type="search" name="searchQuestion" [(ngModel)]="searchQuestion" placeholder="Search Question?" required>
        <button class="search-button" type="submit">Search</button>
    </form>
</div>

<div *ngIf="!searchToggle">
    <h2><span>Created Questions: {{approvedQuestions.length}}</span></h2>
    <div *ngFor="let question of approvedQuestions" class="div-created-question">
        <img class="div-image" src={{question.image_src}} alt="Image not available">
        <table class="created-question-table">
            <tbody>
                <tr>
                    <td>Username</td>
                    <td>{{question.qcreated_by}}</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>{{question.title}}</td>
                </tr>
                <tr>
                    <td>Topic</td>
                    <td>{{question.topic}}</td>
                </tr>
                <tr>
                    <td>description</td>
                    <td>{{question.description_question}}</td>
                </tr>
            </tbody>
        </table>
        <div class="div-create-answer-button">
            <button class="create-answer-button" (click)="goCreateAnswer(question.id)">Answer Question</button>
            <button class="show-answers-button" type="button" (click)="showAnswers(question.id)">Show Answers</button>
        </div>
    </div>
</div>

<div *ngIf="searchToggle">
    <h2><span>Search Results: {{searchResult.length}}</span></h2>
    <div *ngFor="let question of searchResult" class="div-created-question">
        <img class="div-image" src={{question.image_src}} alt="Image not available">
        <table class="created-question-table">
            <tbody>
                <tr>
                    <td>Username</td>
                    <td>{{question.qcreated_by}}</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>{{question.title}}</td>
                </tr>
                <tr>
                    <td>Topic</td>
                    <td>{{question.topic}}</td>
                </tr>
                <tr>
                    <td>description</td>
                    <td>{{question.description_question}}</td>
                </tr>
            </tbody>
        </table>
        <div class="div-create-answer-button">
            <button class="create-answer-button" (click)="goCreateAnswer(question.id)">Answer Question</button>
            <button class="show-answers-button" type="button" (click)="showAnswers(question.id)">Show Answers</button>
        </div>
    </div>
</div>